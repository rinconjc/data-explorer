
<div class="row">
  <div class="col-md-2">
    <table-list rows="30" ds="ds.id" info-clicked="showTableInfo" preview-clicked="showTablePreview"/>
  </div>
  <div class="col-md-10">
    <tabset class="small-tabs">
      <tab heading="SQL" active="tabSwitch['SQL']" >
          
          
          <div class="panel-footer">
            <div ng-show="result.rowsAffected" class="text-left">{{result.rowsAffected}}</div>
          </div>
        <spinner hide-when="result.$resolved || !result" />
        <alert ng-if="result.$error" type="danger">{{result.$error}}</alert>
        <div class="table-responsive">
          <ng-table ng-show="result.data" class="table-bordered summary" columns="result.data.columns" data="result.data.rows"/>
        </div>
      </tab>

      <tab active="tabSwitch['SQLB']">
        <tab-heading>
          Query Builder <close-button close="showSqlbuilder=false" /> 
        </tab-heading>
        <query-builder ds-id="ds.id" />
      </tab>
      
      <tab ng-repeat="(table, data) in previewTabs" active="tabSwitch[table]">
        <tab-heading>{{table}}(Preview) <close-button close="removeTablePreview(table)" /></tab-heading>
        <spinner hide-when="data.$resolved" />
        <div class="table-responsive">
          <ng-table class="table-bordered summary" columns="data.columns" data="data.rows" show-more-fn="fetchNext(table)"/>
        </div>
      </tab>
      <tab ng-repeat="(table, data) in infoTabs" active="tabSwitch['INFO-'+table]">
        <tab-heading>
          {{table}}(Info) <close-button close="removeTableInfo(table)" /> 
        </tab-heading>
        <spinner hide-when="data.$resolved" />
        <tabset ng-show="data.$resolved">
          <tab heading="Columns">
            <div class="table-responsive">
              <ng-table class="table-bordered" columns="data.columns.columns" data="data.columns.rows"/>
            </div>
          </tab>
          <tab heading="Primary Key">
            <div class="table-responsive">
              <ng-table class="table-bordered" columns="data.primaryKes.columns" data="data.primaryKeys.rows"/>
            </div>
          </tab>
          <tab heading="Foreign Keys">
            <div class="table-responsive">
              <ng-table class="table-bordered" columns="data.foreignKeys.columns" data="data.foreignKeys.rows"/>
            </div>
          </tab>
        </tabset>
      </tab>
    </tabset>
    
  </div>
</div>
